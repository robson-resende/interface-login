CREATE TABLE Cliente (
    ID_CLIENTE CHAR,
    NOME VARCHAR(30),
    CPF CHAR,
    CNH CHAR,
    VALIDADE_CNH DATE,
    DATA_NASCIMENTO DATE,
    TELEFONE_1 CHAR,
    TELEFONE_2 CHAR,
    PRIMARY KEY (ID_CLIENTE, CPF)
);

CREATE TABLE Funcionario (
    ID_FUNCIONARIO INT PRIMARY KEY,
    NOME_FUNCIONARIO VARCHAR(30),
    CARGO CHAR
);

CREATE TABLE Veiculo (
    ID_VEICULO INT PRIMARY KEY,
    PLACA CHAR,
    MARCA CHAR,
    MODELO CHAR,
    COR CHAR,
    ANO INT,
    STATUS_VEICULO CHAR
);

CREATE TABLE Movimento (
    ID_MOVIMENTO INT PRIMARY KEY,
    TIPO_MOVIMENTO CHAR,
    DATA DATE,
    VALOR_ALUGUEL DECIMAL,
    fk_Cliente_ID_CLIENTE CHAR,
    fk_Cliente_CPF CHAR,
    fk_Funcionario_ID_FUNCIONARIO INT,
    fk_Veiculo_ID_VEICULO INT
);

CREATE TABLE Oficina (
    DATA DATE,
    TIPO_SERVICO CHAR,
    ID_SERVICO INT PRIMARY KEY,
    fk_Funcionario_ID_FUNCIONARIO INT,
    fk_Veiculo_ID_VEICULO INT
);
 
ALTER TABLE Movimento ADD CONSTRAINT FK_Movimento_2
    FOREIGN KEY (fk_Cliente_ID_CLIENTE, fk_Cliente_CPF)
    REFERENCES Cliente (ID_CLIENTE, CPF)
    ON DELETE CASCADE;
 
ALTER TABLE Movimento ADD CONSTRAINT FK_Movimento_3
    FOREIGN KEY (fk_Funcionario_ID_FUNCIONARIO)
    REFERENCES Funcionario (ID_FUNCIONARIO)
    ON DELETE CASCADE;
 
ALTER TABLE Movimento ADD CONSTRAINT FK_Movimento_4
    FOREIGN KEY (fk_Veiculo_ID_VEICULO)
    REFERENCES Veiculo (ID_VEICULO)
    ON DELETE CASCADE;
 
ALTER TABLE Oficina ADD CONSTRAINT FK_Oficina_2
    FOREIGN KEY (fk_Funcionario_ID_FUNCIONARIO)
    REFERENCES Funcionario (ID_FUNCIONARIO)
    ON DELETE CASCADE;
 
ALTER TABLE Oficina ADD CONSTRAINT FK_Oficina_3
    FOREIGN KEY (fk_Veiculo_ID_VEICULO)
    REFERENCES Veiculo (ID_VEICULO)
    ON DELETE CASCADE;
